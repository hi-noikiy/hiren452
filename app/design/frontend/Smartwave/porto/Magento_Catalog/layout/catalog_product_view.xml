<?xml version="1.0"?>
<!--
/**
 * Copyright Â© 2018 Porto. All rights reserved.
 * See COPYING.txt for license details.
 */
-->
<page layout="1column" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="urn:magento:framework:View/Layout/etc/page_configuration.xsd">
    <body>
        <referenceContainer name="sidebar.additional">
            <block class="Smartwave\Porto\Block\Template" name="product_view_custom_block" before="-" template="Magento_Catalog::product/view/custom_block.phtml"/>
        </referenceContainer>
        <move element="product.info.stock.sku" destination="product.info.price" after="product.price.final"/>
        <move element="catalog.product.related" destination="sidebar.additional" after="product_view_custom_block"/>
        <!--<referenceBlock name="catalog.product.related" remove="true"/>-->
        <move element="product.info.overview" destination="product.info.main" after="product.info.review"/>
        <referenceContainer name="after.body.start">
            <block class="Magento\Catalog\Block\Product\View" name="product_custom" template="Magento_Catalog::product/view/product_custom.phtml" before="-"/>
            <block class="Smartwave\Porto\Block\Template" name="product_view_config" after="-" template="Magento_Catalog::product/view/config.phtml"/>
        </referenceContainer>
        <referenceContainer name="columns.top">
            <block class="Magento\Catalog\Block\Product\View" name="prev_next_products" template="Magento_Catalog::product/view/prev_next.phtml" before="-"/>
        </referenceContainer>
        
        <referenceContainer name="product.info.social">
            <block class="Smartwave\Porto\Block\Template" name="product_view_addthis_links" after="-" template="Magento_Catalog::product/view/addthis.phtml"/>
        </referenceContainer>
        <referenceContainer name="content">
            <container name="jb.product.main" htmlTag="div" htmlClass="jb-product-main" before="-"></container>
            <container name="jb.product.title" htmlTag="div" htmlClass="jb-product-title" before="-"></container>
            <container name="jb.product.details" htmlTag="div" htmlClass="jb-product-details" after="-"></container>
            <block class="Smartwave\Porto\Block\RickSnippet" name="rich_snippet" template="Magento_Catalog::product/view/rich_snippet.phtml" before="-"/>
            <block class="Smartwave\Porto\Block\Template" name="product_view_main_custom_block" ifconfig="porto_settings/product/main_custom_block" before="product.info.main" template="Magento_Catalog::product/view/main_custom_block.phtml"/>
            <block class="Smartwave\Porto\Block\Template" name="product_view_main_custom_block2" after="-" template="Magento_Catalog::product/view/main_custom_block2.phtml"/>
            <block class="Smartwave\Porto\Block\Template" name="product.clearer" after="product.info.media" template="Magento_Catalog::product/view/clearer.phtml"/>

            <block class="Magento\Framework\View\Element\Template" name="jbtopbanner" after="product.info.details" template="JB_ProductPage::topbanner.phtml"/>

            <block class="Magento\Framework\View\Element\Template" name="jbbottombanner" after="jbtopbanner" template="JB_ProductPage::bottombanner.phtml"/>

            <block class="Magento\Framework\View\Element\Template" name="jbdifference" after="jbbottombanner" template="JB_ProductPage::difference.phtml"/>

            <block class="Magento\Review\Block\Product\Review" name="reviews.tab" as="reviews" template="Magento_Review::review.phtml" group="detailed_info">
                    <block class="Magento\Review\Block\Product\View\ListView" name="product.info.product_additional_data" as="product_additional_data" template="Hiddentechies_Reviewspro::product/view/list.phtml"/>
                    <block class="Magento\Theme\Block\Html\Pager" name="product_review_list.toolbar"/>
                    <block class="Magento\Review\Block\Form" name="product.review.form" as="review_form">
                        <container name="product.review.form.fields.before" as="form_fields_before" label="Review Form Fields Before"/>
                    </block>
            </block>
            <block class="Magento\Catalog\Block\Product\View" name="jb.custum.tab" template="Magento_Catalog::product/view/custom_tab.phtml" after="product.info.details"/>
            
        </referenceContainer>
        <move element="product_view_main_custom_block2" destination="product.info.main" after="product.info.overview"/>
        <move element="product.info.main" destination="content" after="product.info.media"/>
        <referenceContainer name="columns">
            <block class="Smartwave\Porto\Block\Template" name="side_popup" after="-" template="Magento_Catalog::product/view/side_popup.phtml"/>
        </referenceContainer>

        <referenceBlock name="product.info.main">
            <block class="Magento\Cms\Block\Block" name="pay_icons" after="-">
                <arguments>
                    <argument name="block_id" xsi:type="string">pay_icons</argument>
                </arguments>
            </block>
             <!-- Added Code For affirm payment @Jitesh -->
            <block class="Splitit\PaymentGateway\Block\UpstreamMessaging\UpstreamContentProduct" name="affirm-content-product-page" after="product.info.price" template="Magento_Catalog::product/view/affirm-messaging-product.phtml">
            </block>
        </referenceBlock>    

        <move element="catalog.product.related" destination="content" after="jbtopbanner" />
        <!-- <move element="product.info.description" destination="product.info.main" after="-" /> -->
        <move element="reviews.tab" destination="content" after="-" />
        <move element="product.info.upsell" destination="content" after="catalog.product.related" />
        <move element="product.info.addto" destination="product.info.options.wrapper.bottom" before="-" />

        <!-- <move element="product.attributes" destination="product.info.main" after="product.info.description"/> -->

        <move element="product.info.main" destination="jb.product.main" />
        <move element="product.info.media" destination="jb.product.main" before="-"/>

        <move element="jb.product.title" destination="product.info.main" before="-"/>
        <move element="prev_next_products" destination="jb.product.title" before="-"/>
        <move element="page.main.title" destination="jb.product.title" before="-"/>
        <move element="product.info.review" destination="jb.product.title" after="-"/>

        <!-- <move element="product.info.layaway" destination="product.info.main" after="product.info.price"/> -->

        <!---Product Details @jitesh Bagul -->

        <move element="jb.product.details" destination="product.info.main" after="-"/>
        <move element="product.info.description" destination="jb.product.details" before="-"/>
        <move element="product.attributes" destination="jb.product.details" after="-"/>

        <referenceBlock name="product.info.overview" remove="true"/>
        <referenceBlock name="product_view_addthis_links" remove="true"/>

    </body>
</page>